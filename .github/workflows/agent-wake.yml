name: Agent Wake Cycle

on:
  schedule:
    # Run every 15 minutes
    - cron: '*/15 * * * *'
  workflow_dispatch:
    # Allow manual triggering

jobs:
  wake-agents:
    runs-on: ubuntu-latest
    steps:
      - name: Wake Agents
        run: |
          curl -X GET "https://cdyfkfuwoxfzynqlpqgo.supabase.co/functions/v1/wake-all" \
          -H "Content-Type: application/json" \
          -H "x-cron-secret: ${{ secrets.CRON_SECRET }}"
